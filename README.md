# VPN Service MVP

Telegram-–±–æ—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ VPN-–¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –±–∞–∑–µ WireGuard.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Telegram Bot‚îÇ
‚îÇ  (Telegraf) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ HTTP/WebSocket
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Backend API‚îÇ
‚îÇ   (NestJS)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ PostgreSQL
       ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ WireGuard Servers
                  (wg CLI / API)
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `backend/` - NestJS API —Å–µ—Ä–≤–µ—Ä
- `bot/` - Telegram –±–æ—Ç (Telegraf)
- `shared/` - –û–±—â–∏–µ —Ç–∏–ø—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
- `scripts/` - –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `docs/` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Backend (NestJS)
- User management
- VPN peer management (WireGuard)
- Payment processing (USDT TRC20)
- Tariff management
- Trial system

### Telegram Bot
- –ö–æ–º–∞–Ω–¥—ã: /start, trial, buy, status, support
- –û—Ç–ø—Ä–∞–≤–∫–∞ WireGuard –∫–æ–Ω—Ñ–∏–≥–æ–≤
- QR-–∫–æ–¥—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### WireGuard
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ peers —á–µ—Ä–µ–∑ wg CLI
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[QUICKSTART.md](docs/QUICKSTART.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **[VPS_RECOMMENDATIONS.md](docs/VPS_RECOMMENDATIONS.md)** - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É VPS ‚≠ê
- **[OS_RECOMMENDATIONS.md](docs/OS_RECOMMENDATIONS.md)** - –í—ã–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã ‚≠ê
- **[DEPLOY.md](docs/DEPLOY.md)** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –≤ –ø—Ä–æ–¥–∞–∫—à–Ω
- **[ARCHITECTURE.md](docs/ARCHITECTURE.md)** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- **[API.md](docs/API.md)** - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[ADMIN.md](docs/ADMIN.md)** - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å ‚≠ê
- **[VPN_RU_TROUBLESHOOTING.md](docs/VPN_RU_TROUBLESHOOTING.md)** - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º VPN –≤ –†–§ ‚≠ê
- **[EXAMPLES.md](docs/EXAMPLES.md)** - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **[FEATURES.md](docs/FEATURES.md)** - –§—É–Ω–∫—Ü–∏–∏ –∏ –ø–ª–∞–Ω—ã
- **[RU_README.md](docs/RU_README.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **Backend:**
   ```bash
   cd backend
   npm install
   cp .env.example .env
   # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª
   npm run start:dev
   ```

2. **Telegram Bot:**
   ```bash
   cd bot
   npm install
   cp .env.example .env
   # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª (TELEGRAM_BOT_TOKEN, API_BASE_URL)
   npm run start:dev
   ```

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   # –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   createdb vpn_service
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   cd backend
   npm run migration:run
   
   # –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   ts-node src/database/seeds/seed.ts
   ```

4. **WireGuard —Å–µ—Ä–≤–µ—Ä:**
   - –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WireGuard –ª–æ–∫–∞–ª—å–Ω–æ
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –¥–æ—Å—Ç—É–ø

### –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

–°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ `docs/DEPLOY.md`

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `docs/DEPLOY.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- `docs/ARCHITECTURE.md` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- `docs/API.md` - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/EXAMPLES.md` - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **Trial —Å–∏—Å—Ç–µ–º–∞** - 24 —á–∞—Å–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞  
‚úÖ **–ü–ª–∞—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã** - –ú–µ—Å—è—á–Ω–∞—è –∏ –≥–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∏  
‚úÖ **–ú—É–ª—å—Ç–∏-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ —Ç–∞—Ä–∏—Ñ  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏ QR-–∫–æ–¥–æ–≤  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö WireGuard —Å–µ—Ä–≤–µ—Ä–æ–≤  
‚úÖ **USDT TRC20** - –û–ø–ª–∞—Ç–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–æ–π  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Ç–µ—á–µ–Ω–∏–µ** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏—Å—Ç–µ–∫—à–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫  
‚úÖ **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ VPN  

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend:** NestJS, TypeORM, PostgreSQL
- **Bot:** Telegraf (Node.js)
- **VPN:** WireGuard
- **Payments:** USDT TRC20 (TronGrid API)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
vpn/
‚îú‚îÄ‚îÄ backend/              # NestJS Backend API
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/       # –ú–æ–¥—É–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vpn/         # VPN —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payments/    # –ü–ª–∞—Ç–µ–∂–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tariffs/     # –¢–∞—Ä–∏—Ñ—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wireguard/   # WireGuard —Å–µ—Ä–≤–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tasks/       # Cron –∑–∞–¥–∞—á–∏
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ bot/                 # Telegram Bot
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/    # –°–µ—Ä–≤–∏—Å—ã –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ scripts/             # –°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md
```

